import { render } from '@testing-library/react';
import React from 'react';
import { TaskLogs } from './task-logs';
import { makeTaskLog } from './test-data.spec';

describe('TaskLogs', () => {
  it('shows all event logs', () => {
    const logs = makeTaskLog('task');
    const root = render(<TaskLogs taskLog={logs} />);
    Object.values(logs.phases).forEach((p) => {
      Object.values(p.events).forEach((e) => {
        e.forEach((l) => {
          expect(root.getAllByText(l.text).length).toBeGreaterThan(0);
        });
      });
    });
  });
});
